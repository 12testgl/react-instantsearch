---
title: Server-side rendering
mainTitle: Guides
layout: main.pug
category: guide
navWeight: 30
---

React InstantSearch is compatible with server-side rendering. 

We provide two API entries to handle it: 

* a new type of `<InstantSearch>` available under `'react-instantsearch/server'`
* a `findResultsState` function available under `'react-instantsearch/server'`

Here are the steps you need to follow to migrate:

1. Import `<InstantSearch>` from `'react-instantsearch/server'` instead of `'react-instantsearch/dom'`. 

2. Use `findResultsState` to get a `resultsState` server side. 

```jsx
server.get('/', async (req, res) => {
  const resultsState = await findResultsState(App);

  [...]
});
```

**(Optional)**: If you need to forward a `searchState` to your `<InstantSearch/>` instance, just pass it as a second parameter of the findResultsState function. 

```jsx
server.get('/', async (req, res) => {
  const resultsState = await findResultsState(App, {searchState});

  //[...]
});
```

3. Forward this `resultState` as a prop of your `<InstantSearch>` instance. 

```jsx
const App = ({resultsState}) => 
    <InstantSearch
        appId="appId"
        apiKey="apiKey"
        indexName="indexName"
        resultsState={resultsState}
    >
        <SearchBox />
        <Hits />
    </InstantSearch>;

server.get('/', async (req, res) => {
  const resultsState = await findResultsState(App);
  const appString = renderToString(<App {resultsState} />);
  res.send(...);
});
```

Check out our examples to learn more about Server-side rendering with React InstantSearch. 

* [Server-side rendering using express](https://github.com/algolia/react-instantsearch/tree/master/packages/react-instantsearch/examples/server-side-rendering).  

* [Next.js](https://github.com/algolia/react-instantsearch/tree/master/packages/react-instantsearch/examples/next-app). This example handle URL synchronization.  

**Notes:**

* React InstantSearch builds the Algolia query based on every widget declared. That’s why at the first rendering there are no results yet. This is inconvenient when doing server side rendering as the html generated by the server will not contain any hits.

<div class="guide-nav">
    <div class="guide-nav-left">
        Previous: <a href="guide/React_native.html">← React Native</a>
    </div>
    <div class="guide-nav-right">
            Next: <a href="guide//Autocomplete_menu.html">Autocomplete menu →</a>
    </div>
</div>